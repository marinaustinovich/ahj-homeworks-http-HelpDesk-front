(()=>{"use strict";class t{constructor(t,e,i){this.container=t,this.formContainer=null,this.errorElement=null,this.form=null,this.createCallback=i,this.updateCallback=e,this.bindToDOM()}bindToDOM(){this.createFormContainer({name:"",description:""}),this.events()}createFormContainer(e){this.formContainer=document.createElement("div"),this.formContainer.classList.add("ticket-form-container"),this.formContainer.innerHTML=t.markup(e),this.container.append(this.formContainer)}events(){const e=this.formContainer.querySelector('[data-toggle="ticket-close"]');this.form=this.formContainer.querySelector("form");const i=this.form.querySelectorAll("input, textarea");e.addEventListener("click",(()=>this.hide())),this.form.addEventListener("submit",(t=>this.onSubmit(t))),i.forEach((e=>{e.addEventListener("input",(()=>t.removeErrorClass(e)))}))}async show(e){this.formContainer.classList.add("ticket-form-container_visible"),e&&(this.ticketId=e.id,this.formContainer.innerHTML=t.markup(e),this.events())}hide(){this.formContainer.classList.remove("ticket-form-container_visible"),this.form.reset()}async onSubmit(e){e.preventDefault();const i=Array.from(this.form.elements),s=t.getNotValidEl(i);if(s)return void s.classList.add("error");const a=Object.fromEntries(new FormData(e.target));this.ticketId?await this.updateCallback(this.ticketId,a):await this.createCallback(a)}static removeErrorClass(t){t.value.trim()&&t.classList.remove("error")}static markup(t){return`\n      <form id="ticket-form" novalidate>\n      <div class="form-control form-ticket">\n        <label class="label-ticket" for="name">Краткое описание</label>\n        <input name="name" data-id="name" class="input input-ticket" type="text" placeholder="ticket name" autocomplete="off" value="${t.name}" required> \n      </div>\n      <div class="form-control form-ticket">\n        <label for="description" class="label-ticket">Подробное описание</label>\n        <textarea name="description" data-id="description" class="input input-ticket" placeholder="ticket description" autocomplete="off"\n            cols="25" rows="5" maxlength="100" minlength="20" tabindex="0">${t.description}</textarea>\n      </div>\n      <div class="ticket-btn">\n        <button type="button" class="btn btn-add" data-toggle="ticket-close" title="Close ticket form">Отмена</button>\n        <button type="submit" class="btn btn-close" data-toggle="ticket-add" title="Submit ticket form">ОК</button>\n      </div>\n    </form>`}static getNotValidEl(t){return t.find((t=>"button"!==t.type&&"submit"!==t.type&&!t.value.trim()))}}const e=async function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{let a;const n="allTickets"===e||e.startsWith("delete")||e.startsWith("ticket");switch(e){case"createTicket":a=await fetch(`${t}?method=${e}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",...s}});break;case"updateById":if(!i.id)return console.error("ID is required for updateById method"),null;a=await fetch(`${t}?method=${e}&id=${i.id}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",...s}});break;case"allTickets":case"ticketById":case"deleteById":{if(n&&"allTickets"!==e&&!i.id)return console.error("ID is required for ticketById and deleteById methods"),null;const r=new URLSearchParams(n?i:{}).toString();a=await fetch(`${t}?method=${e}${r?`&${r}`:""}`,{method:"GET",headers:{"Content-Type":"application/json",...s}});break}default:return console.error("Unsupported method:",e),null}return a.ok?"deleteById"===e?"success":await a.json():(console.error(`Server error: ${a.statusText}`),null)}catch(t){return console.error("Network error:",t),null}};class i{constructor(t){this.url=t}list(){return e(this.url,"allTickets")}get(t){return e(this.url,"ticketById",{id:t})}create(t){return e(this.url,"createTicket",t)}update(t,i){return e(this.url,"updateById",{...i,id:t})}delete(t){return e(this.url,"deleteById",{id:t})}}class s{constructor(t,e,i,s){let{id:a,name:n,description:r,status:o,created:c}=t;this.id=a,this.name=n,this.description=r,this.status=o,this.created=c,this.container=e,this.updateCallback=i,this.showFormCallback=s,this.bind()}bind(){this.container.innerHTML=this.markup,this.events()}events(){const t=this.container.querySelector(".update"),e=this.container.querySelector(".delete"),i=this.container.querySelector(".done"),s=this.container.querySelector(".ticket-body");t.addEventListener("click",(()=>this.update())),e.addEventListener("click",(()=>this.delete())),s.addEventListener("click",(()=>this.showDescription())),i.addEventListener("click",(()=>this.done()))}update(){this.showFormCallback(this.id)}delete(){const t=document.querySelector(".delete-message");t.classList.add("delete-message_visible"),t.setAttribute("data-id",this.id)}showDescription(){this.container.querySelector(".ticket-description").classList.toggle("ticket-description_visible")}done(){this.updateCallback(this.id,{status:!this.status})}get markup(){const t=new Date(this.created).toLocaleString("ru-RU");return`\n    <span class="done" data-status="${this.status}">${this.status?"&#10003;":""}</span>\n    <th class='ticket-body'> \n      <div>\n      <span colspan="2" class="ticket-name" data-name="${this.name}">${this.name}</span>\n      <span colspan="2" class="ticket-description" >${this.description}</span>\n      </div>\n      <span colspan="2" class="ticket-created">${t}</span>\n    </th>\n    <th class="ticket-actions"><span class="update">✎</span><span class="delete">✖</span></th>\n    `}}class a{constructor(t,e,i){this.container=t,this.updateCallback=e,this.showFormCallback=i,this.tickets=[]}bindToDOM(t){t.forEach((t=>{const e=document.createElement("tr"),i=new s(t,e,this.updateCallback,this.showFormCallback);this.tickets.push(i),e.setAttribute("data-row",t.id),e.classList.add("ticket-row"),this.container.append(e)}))}}class n{constructor(t,e){if(!(t instanceof HTMLElement))throw new Error("This is not HTML element!");this.container=t,this.ticketService=new i(e),this.form=null,this.ticketView=null,this.tableBody=null,this.deleteMessage=null,this.updateTicket=this.updateTicket.bind(this),this.showForm=this.showForm.bind(this),this.createTicket=this.createTicket.bind(this)}async init(){this.renderInitialMarkup(),this.initializeDOMElements(),this.initializeTicketView(),this.initializeTicketForm(),this.events(),await this.reloadData()}renderInitialMarkup(){this.container.innerHTML=n.markup()}initializeDOMElements(){this.tableBody=this.container.querySelector("tbody"),this.deleteMessage=this.container.querySelector(".delete-message")}initializeTicketView(){this.ticketView=new a(this.tableBody,this.updateTicket,this.showForm)}initializeTicketForm(){this.form=new t(this.container,this.updateTicket,this.createTicket)}events(){const t=this.container.querySelector('[data-id="add"]'),e=this.container.querySelector('[data-toggle="delete-ticket"]'),i=this.container.querySelector('[data-toggle="close-message"]');t.addEventListener("click",(()=>this.showForm())),e.addEventListener("click",(()=>this.deleteTicket())),i.addEventListener("click",(()=>this.closeMessage()))}async reloadData(){for(;this.tableBody.firstChild;)this.tableBody.removeChild(this.tableBody.firstChild);const t=await this.ticketService.list();t&&this.ticketView.bindToDOM(t)}async deleteTicket(){null!==await this.ticketService.delete(this.deleteMessage.dataset.id)&&(await this.reloadData(),this.closeMessage())}async createTicket(t){null!==await this.ticketService.create(t)&&(await this.reloadData(),this.form.hide())}async updateTicket(t,e){null!==await this.ticketService.update(t,e)&&(await this.reloadData(),this.form.hide())}async getTicket(t){return await this.ticketService.get(t)}closeMessage(){this.deleteMessage.classList.remove("delete-message_visible")}async showForm(t){if(t){const e=await this.getTicket(t);this.form.show(e)}else this.form.show()}static markup(){return'\n      <table class="table">\n        <thead>\n          <tr class="tickets">\n            <th colspan="6" style="text-align:right" data-id="add"><span class="add">Добавить тикет</span></th>\n          </tr>\n        </thead>\n        <tbody></tbody>\n      </table>\n      <div class="delete-message">\n        <h2>Удалить тикет</h2>\n        <div>Вы уверены, что хотите удалить тикет? Это действие необратимо</div>\n        <div class="ticket-btn">\n          <button type="button" class="btn btn-close" data-toggle="close-message" title="Close delete message">Отмена</button>\n          <button type="button" class="btn btn-add" data-toggle="delete-ticket" title="Button for delete ticket">Ok</button>\n        </div>\n      </div>\n    '}}const r=document.getElementById("root");new n(r,"http://localhost:3000/").init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixPQUN0Qy9FLEtBQUs0RixjQUFjK0IsUUFBUTVGLFlBR3JCL0IsS0FBS3FILGFBQ1hySCxLQUFLd0gsZUFFVCxDQUVBNUYsbUJBQW1CQyxHQUVGLGFBRE03QixLQUFLMkcsY0FBYzlCLE9BQU9oRCxXQUV2QzdCLEtBQUtxSCxhQUNYckgsS0FBS0csS0FBS21CLE9BRWQsQ0FFQU0sbUJBQW1CRyxFQUFJNkYsR0FFTixhQURNNUgsS0FBSzJHLGNBQWM3QixPQUFPL0MsRUFBSTZGLFdBRTNDNUgsS0FBS3FILGFBQ1hySCxLQUFLRyxLQUFLbUIsT0FFZCxDQUVBTSxnQkFBZ0JHLEdBRWQsYUFEcUIvQixLQUFLMkcsY0FBYy9CLElBQUk3QyxFQUU5QyxDQUVBeUYsZUFDRXhILEtBQUs0RixjQUFjaEYsVUFBVW9CLE9BQU8seUJBQ3RDLENBRUFKLGVBQWVHLEdBQ2IsR0FBSUEsRUFBSSxDQUNOLE1BQU04RixRQUFlN0gsS0FBSzhILFVBQVUvRixHQUNwQy9CLEtBQUtHLEtBQUs0SCxLQUFLRixFQUNqQixNQUNFN0gsS0FBS0csS0FBSzRILE1BRWQsQ0FFQWxGLGdCQUNFLE1BQVEsdXVCQWtCVixFQ25JRixNQUFNbUYsRUFBT3RILFNBQVN1SCxlQUFlLFFBR3pCLElBQUl6QixFQUFTd0IsRUFGYiwwQkFJUkUsTSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250Ly4vc3JjL2pzL1RpY2tldEZvcm0uanMiLCJ3ZWJwYWNrOi8vZnJvbnQvLi9zcmMvanMvYXBpL2NyZWF0ZVJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vZnJvbnQvLi9zcmMvanMvVGlja2V0U2VydmljZS5qcyIsIndlYnBhY2s6Ly9mcm9udC8uL3NyYy9qcy9UaWNrZXQuanMiLCJ3ZWJwYWNrOi8vZnJvbnQvLi9zcmMvanMvVGlja2V0Vmlldy5qcyIsIndlYnBhY2s6Ly9mcm9udC8uL3NyYy9qcy9IZWxwRGVzay5qcyIsIndlYnBhY2s6Ly9mcm9udC8uL3NyYy9qcy9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiAg0JrQu9Cw0YHRgSDQtNC70Y8g0YHQvtC30LTQsNC90LjRjyDRhNC+0YDQvNGLINGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7Qs9C+INGC0LjQutC10YLQsFxuICogKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tldEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIHVwZGF0ZUNhbGxiYWNrLCBjcmVhdGVDYWxsYmFjaykge1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuZm9ybUNvbnRhaW5lciA9IG51bGw7XG4gICAgdGhpcy5lcnJvckVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuZm9ybSA9IG51bGw7XG4gICAgdGhpcy5jcmVhdGVDYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2sgPSB1cGRhdGVDYWxsYmFjaztcblxuICAgIHRoaXMuYmluZFRvRE9NKCk7XG4gIH1cblxuICBiaW5kVG9ET00oKSB7XG4gICAgdGhpcy5jcmVhdGVGb3JtQ29udGFpbmVyKHsgbmFtZTogJycsIGRlc2NyaXB0aW9uOiAnJyB9KTtcbiAgICB0aGlzLmV2ZW50cygpO1xuICB9XG5cbiAgY3JlYXRlRm9ybUNvbnRhaW5lcihmb3JtRGF0YSkge1xuICAgIHRoaXMuZm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0aWNrZXQtZm9ybS1jb250YWluZXInKTtcbiAgICB0aGlzLmZvcm1Db250YWluZXIuaW5uZXJIVE1MID0gVGlja2V0Rm9ybS5tYXJrdXAoZm9ybURhdGEpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZCh0aGlzLmZvcm1Db250YWluZXIpO1xuICB9XG5cbiAgZXZlbnRzKCkge1xuICAgIGNvbnN0IGNsb3NlQnRuID0gdGhpcy5mb3JtQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRvZ2dsZT1cInRpY2tldC1jbG9zZVwiXScpO1xuICAgIHRoaXMuZm9ybSA9IHRoaXMuZm9ybUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgY29uc3QgaW5wdXRFbGVtZW50cyA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgdGV4dGFyZWEnKTtcblxuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5oaWRlKCkpO1xuICAgIHRoaXMuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4gdGhpcy5vblN1Ym1pdChlKSk7XG5cbiAgICBpbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IFRpY2tldEZvcm0ucmVtb3ZlRXJyb3JDbGFzcyhpbnB1dCkpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgc2hvdyhkYXRhKSB7XG4gICAgdGhpcy5mb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RpY2tldC1mb3JtLWNvbnRhaW5lcl92aXNpYmxlJyk7XG5cbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy50aWNrZXRJZCA9IGRhdGEuaWQ7XG4gICAgICB0aGlzLmZvcm1Db250YWluZXIuaW5uZXJIVE1MID0gVGlja2V0Rm9ybS5tYXJrdXAoZGF0YSk7XG4gICAgICB0aGlzLmV2ZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5mb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3RpY2tldC1mb3JtLWNvbnRhaW5lcl92aXNpYmxlJyk7XG4gICAgdGhpcy5mb3JtLnJlc2V0KCk7XG4gIH1cblxuICBhc3luYyBvblN1Ym1pdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGVsZW1lbnRzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMuZm9ybS5lbGVtZW50cyk7XG4gICAgY29uc3QgaW52YWxpZEVsZW1lbnQgPSBUaWNrZXRGb3JtLmdldE5vdFZhbGlkRWwoZWxlbWVudHNBcnJheSk7XG5cbiAgICBpZiAoaW52YWxpZEVsZW1lbnQpIHtcbiAgICAgIGludmFsaWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5mcm9tRW50cmllcyhuZXcgRm9ybURhdGEoZS50YXJnZXQpKTtcblxuICAgIGlmICh0aGlzLnRpY2tldElkKSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNhbGxiYWNrKHRoaXMudGlja2V0SWQsIGRhdGEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLmNyZWF0ZUNhbGxiYWNrKGRhdGEpO1xuICB9XG5cbiAgc3RhdGljIHJlbW92ZUVycm9yQ2xhc3MoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQudmFsdWUudHJpbSgpKSB7XG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBtYXJrdXAoZm9ybURhdGEpIHtcbiAgICByZXR1cm4gYFxuICAgICAgPGZvcm0gaWQ9XCJ0aWNrZXQtZm9ybVwiIG5vdmFsaWRhdGU+XG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tdGlja2V0XCI+XG4gICAgICAgIDxsYWJlbCBjbGFzcz1cImxhYmVsLXRpY2tldFwiIGZvcj1cIm5hbWVcIj7QmtGA0LDRgtC60L7QtSDQvtC/0LjRgdCw0L3QuNC1PC9sYWJlbD5cbiAgICAgICAgPGlucHV0IG5hbWU9XCJuYW1lXCIgZGF0YS1pZD1cIm5hbWVcIiBjbGFzcz1cImlucHV0IGlucHV0LXRpY2tldFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJ0aWNrZXQgbmFtZVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIHZhbHVlPVwiJHtmb3JtRGF0YS5uYW1lfVwiIHJlcXVpcmVkPiBcbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY29udHJvbCBmb3JtLXRpY2tldFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiZGVzY3JpcHRpb25cIiBjbGFzcz1cImxhYmVsLXRpY2tldFwiPtCf0L7QtNGA0L7QsdC90L7QtSDQvtC/0LjRgdCw0L3QuNC1PC9sYWJlbD5cbiAgICAgICAgPHRleHRhcmVhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGRhdGEtaWQ9XCJkZXNjcmlwdGlvblwiIGNsYXNzPVwiaW5wdXQgaW5wdXQtdGlja2V0XCIgcGxhY2Vob2xkZXI9XCJ0aWNrZXQgZGVzY3JpcHRpb25cIiBhdXRvY29tcGxldGU9XCJvZmZcIlxuICAgICAgICAgICAgY29scz1cIjI1XCIgcm93cz1cIjVcIiBtYXhsZW5ndGg9XCIxMDBcIiBtaW5sZW5ndGg9XCIyMFwiIHRhYmluZGV4PVwiMFwiPiR7Zm9ybURhdGEuZGVzY3JpcHRpb259PC90ZXh0YXJlYT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInRpY2tldC1idG5cIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWFkZFwiIGRhdGEtdG9nZ2xlPVwidGlja2V0LWNsb3NlXCIgdGl0bGU9XCJDbG9zZSB0aWNrZXQgZm9ybVwiPtCe0YLQvNC10L3QsDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cImJ0biBidG4tY2xvc2VcIiBkYXRhLXRvZ2dsZT1cInRpY2tldC1hZGRcIiB0aXRsZT1cIlN1Ym1pdCB0aWNrZXQgZm9ybVwiPtCe0Jo8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT5gO1xuICB9XG5cbiAgc3RhdGljIGdldE5vdFZhbGlkRWwoYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXkuZmluZCgoZWwpID0+IHtcbiAgICAgIGlmIChlbC50eXBlICE9PSAnYnV0dG9uJyAmJiBlbC50eXBlICE9PSAnc3VibWl0Jykge1xuICAgICAgICBpZiAoIWVsLnZhbHVlLnRyaW0oKSkgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cbiIsImNvbnN0IGNyZWF0ZVJlcXVlc3QgPSBhc3luYyAodXJsLCBtZXRob2QsIGRhdGEgPSB7fSwgaGVhZGVycyA9IHt9KSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIGNvbnN0IGlzR2V0TWV0aG9kID0gbWV0aG9kID09PSAnYWxsVGlja2V0cydcbiAgICAgIHx8IG1ldGhvZC5zdGFydHNXaXRoKCdkZWxldGUnKVxuICAgICAgfHwgbWV0aG9kLnN0YXJ0c1dpdGgoJ3RpY2tldCcpO1xuXG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgIGNhc2UgJ2NyZWF0ZVRpY2tldCc6XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfT9tZXRob2Q9JHttZXRob2R9YCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndXBkYXRlQnlJZCc6XG4gICAgICAgIGlmICghZGF0YS5pZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0lEIGlzIHJlcXVpcmVkIGZvciB1cGRhdGVCeUlkIG1ldGhvZCcpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dXJsfT9tZXRob2Q9JHttZXRob2R9JmlkPSR7ZGF0YS5pZH1gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdhbGxUaWNrZXRzJzpcbiAgICAgIGNhc2UgJ3RpY2tldEJ5SWQnOlxuICAgICAgY2FzZSAnZGVsZXRlQnlJZCc6IHtcbiAgICAgICAgaWYgKGlzR2V0TWV0aG9kICYmIG1ldGhvZCAhPT0gJ2FsbFRpY2tldHMnICYmICFkYXRhLmlkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignSUQgaXMgcmVxdWlyZWQgZm9yIHRpY2tldEJ5SWQgYW5kIGRlbGV0ZUJ5SWQgbWV0aG9kcycpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgICAgICAgIGlzR2V0TWV0aG9kID8gZGF0YSA6IHt9LFxuICAgICAgICApLnRvU3RyaW5nKCk7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYCR7dXJsfT9tZXRob2Q9JHttZXRob2R9JHtxdWVyeVN0cmluZyA/IGAmJHtxdWVyeVN0cmluZ31gIDogJyd9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgbWV0aG9kOicsIG1ldGhvZCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIG1ldGhvZCA9PT0gJ2RlbGV0ZUJ5SWQnID8gJ3N1Y2Nlc3MnIDogYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH1cblxuICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05ldHdvcmsgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVSZXF1ZXN0O1xuIiwiaW1wb3J0IGNyZWF0ZVJlcXVlc3QgZnJvbSAnLi9hcGkvY3JlYXRlUmVxdWVzdCc7XG5cbi8qKlxuICogINCa0LvQsNGB0YEg0LTQu9GPINGB0LLRj9C30Lgg0YEg0YHQtdGA0LLQtdGA0L7QvC5cbiAqICDQodC+0LTQtdGA0LbQuNGCINC80LXRgtC+0LTRiyDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuCDQt9Cw0L/RgNC+0YHQvtCyINC90LAg0YHQtdGA0LLQtdGAINC4INC/0L7Qu9GD0YfQtdC90LjRjyDQvtGC0LLQtdGC0L7QslxuICogKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tldFNlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcih1cmwpIHtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgfVxuXG4gIGxpc3QoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlcXVlc3QodGhpcy51cmwsICdhbGxUaWNrZXRzJyk7XG4gIH1cblxuICBnZXQoaWQpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVxdWVzdCh0aGlzLnVybCwgJ3RpY2tldEJ5SWQnLCB7IGlkIH0pO1xuICB9XG5cbiAgY3JlYXRlKGRhdGEpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVxdWVzdCh0aGlzLnVybCwgJ2NyZWF0ZVRpY2tldCcsIGRhdGEpO1xuICB9XG5cbiAgdXBkYXRlKGlkLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVJlcXVlc3QodGhpcy51cmwsICd1cGRhdGVCeUlkJywgeyAuLi5kYXRhLCBpZCB9KTtcbiAgfVxuXG4gIGRlbGV0ZShpZCkge1xuICAgIHJldHVybiBjcmVhdGVSZXF1ZXN0KHRoaXMudXJsLCAnZGVsZXRlQnlJZCcsIHsgaWQgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tldCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHtcbiAgICAgIGlkLCBuYW1lLCBkZXNjcmlwdGlvbiwgc3RhdHVzLCBjcmVhdGVkLFxuICAgIH0sXG4gICAgY29udGFpbmVyLFxuICAgIHVwZGF0ZUNhbGxiYWNrLFxuICAgIHNob3dGb3JtQ2FsbGJhY2ssXG4gICkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLmNyZWF0ZWQgPSBjcmVhdGVkO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuXG4gICAgdGhpcy51cGRhdGVDYWxsYmFjayA9IHVwZGF0ZUNhbGxiYWNrO1xuICAgIHRoaXMuc2hvd0Zvcm1DYWxsYmFjayA9IHNob3dGb3JtQ2FsbGJhY2s7XG5cbiAgICB0aGlzLmJpbmQoKTtcbiAgfVxuXG4gIGJpbmQoKSB7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5tYXJrdXA7XG4gICAgdGhpcy5ldmVudHMoKTtcbiAgfVxuXG4gIGV2ZW50cygpIHtcbiAgICBjb25zdCB1cGRhdGVCdG4gPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudXBkYXRlJyk7XG4gICAgY29uc3QgZGVsZXRlQnRuID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmRlbGV0ZScpO1xuICAgIGNvbnN0IGlzRG9uZUVsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmRvbmUnKTtcbiAgICBjb25zdCB0aWNrZXRCb2R5ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpY2tldC1ib2R5Jyk7XG5cbiAgICB1cGRhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnVwZGF0ZSgpKTtcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmRlbGV0ZSgpKTtcbiAgICB0aWNrZXRCb2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93RGVzY3JpcHRpb24oKSk7XG4gICAgaXNEb25lRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmRvbmUoKSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5zaG93Rm9ybUNhbGxiYWNrKHRoaXMuaWQpO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIGNvbnN0IGRlbGV0ZU1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlLW1lc3NhZ2UnKTtcbiAgICBkZWxldGVNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZS1tZXNzYWdlX3Zpc2libGUnKTtcbiAgICBkZWxldGVNZXNzYWdlLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIHRoaXMuaWQpO1xuICB9XG5cbiAgc2hvd0Rlc2NyaXB0aW9uKCkge1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpY2tldC1kZXNjcmlwdGlvbicpO1xuICAgIGRlc2NyaXB0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ3RpY2tldC1kZXNjcmlwdGlvbl92aXNpYmxlJyk7XG4gIH1cblxuICBkb25lKCkge1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2sodGhpcy5pZCwgeyBzdGF0dXM6ICF0aGlzLnN0YXR1cyB9KTtcbiAgfVxuXG4gIGdldCBtYXJrdXAoKSB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuY3JlYXRlZCk7XG4gICAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3J1LVJVJyk7XG5cbiAgICByZXR1cm4gYFxuICAgIDxzcGFuIGNsYXNzPVwiZG9uZVwiIGRhdGEtc3RhdHVzPVwiJHt0aGlzLnN0YXR1c31cIj4ke3RoaXMuc3RhdHVzID8gJyYjMTAwMDM7JyA6ICcnfTwvc3Bhbj5cbiAgICA8dGggY2xhc3M9J3RpY2tldC1ib2R5Jz4gXG4gICAgICA8ZGl2PlxuICAgICAgPHNwYW4gY29sc3Bhbj1cIjJcIiBjbGFzcz1cInRpY2tldC1uYW1lXCIgZGF0YS1uYW1lPVwiJHt0aGlzLm5hbWV9XCI+JHt0aGlzLm5hbWV9PC9zcGFuPlxuICAgICAgPHNwYW4gY29sc3Bhbj1cIjJcIiBjbGFzcz1cInRpY2tldC1kZXNjcmlwdGlvblwiID4ke3RoaXMuZGVzY3JpcHRpb259PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3BhbiBjb2xzcGFuPVwiMlwiIGNsYXNzPVwidGlja2V0LWNyZWF0ZWRcIj4ke2Zvcm1hdHRlZERhdGV9PC9zcGFuPlxuICAgIDwvdGg+XG4gICAgPHRoIGNsYXNzPVwidGlja2V0LWFjdGlvbnNcIj48c3BhbiBjbGFzcz1cInVwZGF0ZVwiPuKcjjwvc3Bhbj48c3BhbiBjbGFzcz1cImRlbGV0ZVwiPuKcljwvc3Bhbj48L3RoPlxuICAgIGA7XG4gIH1cbn1cbiIsImltcG9ydCBUaWNrZXQgZnJvbSAnLi9UaWNrZXQnO1xuXG4vKipcbiAqICDQmtC70LDRgdGBINC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINGC0LjQutC10YLQvtCyINC90LAg0YHRgtGA0LDQvdC40YbQtS5cbiAqICDQntC9INGB0L7QtNC10YDQttC40YIg0LzQtdGC0L7QtNGLINC00LvRjyDQs9C10L3QtdGA0LDRhtC40Lgg0YDQsNC30LzQtdGC0LrQuCDRgtC40LrQtdGC0LAuXG4gKiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlja2V0VmlldyB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgdXBkYXRlQ2FsbGJhY2ssIHNob3dGb3JtQ2FsbGJhY2spIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrID0gdXBkYXRlQ2FsbGJhY2s7XG4gICAgdGhpcy5zaG93Rm9ybUNhbGxiYWNrID0gc2hvd0Zvcm1DYWxsYmFjaztcbiAgICB0aGlzLnRpY2tldHMgPSBbXTtcbiAgfVxuXG4gIGJpbmRUb0RPTShkYXRhKSB7XG4gICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0YWJsZVJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICBjb25zdCB0aWNrZXQgPSBuZXcgVGlja2V0KFxuICAgICAgICBpdGVtLFxuICAgICAgICB0YWJsZVJvdyxcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFjayxcbiAgICAgICAgdGhpcy5zaG93Rm9ybUNhbGxiYWNrLFxuICAgICAgKTtcblxuICAgICAgdGhpcy50aWNrZXRzLnB1c2godGlja2V0KTtcbiAgICAgIHRhYmxlUm93LnNldEF0dHJpYnV0ZSgnZGF0YS1yb3cnLCBpdGVtLmlkKTtcbiAgICAgIHRhYmxlUm93LmNsYXNzTGlzdC5hZGQoJ3RpY2tldC1yb3cnKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZCh0YWJsZVJvdyk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBUaWNrZXRGb3JtIGZyb20gJy4vVGlja2V0Rm9ybSc7XG5pbXBvcnQgVGlja2V0U2VydmljZSBmcm9tICcuL1RpY2tldFNlcnZpY2UnO1xuaW1wb3J0IFRpY2tldFZpZXcgZnJvbSAnLi9UaWNrZXRWaWV3JztcblxuLyoqXG4gKiAg0J7RgdC90L7QstC90L7QuSDQutC70LDRgdGBINC/0YDQuNC70L7QttC10L3QuNGPXG4gKiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVscERlc2sge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIHVybCkge1xuICAgIGlmICghKGNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGlzIG5vdCBIVE1MIGVsZW1lbnQhJyk7XG4gICAgfVxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMudGlja2V0U2VydmljZSA9IG5ldyBUaWNrZXRTZXJ2aWNlKHVybCk7XG4gICAgdGhpcy5mb3JtID0gbnVsbDtcbiAgICB0aGlzLnRpY2tldFZpZXcgPSBudWxsO1xuICAgIHRoaXMudGFibGVCb2R5ID0gbnVsbDtcbiAgICB0aGlzLmRlbGV0ZU1lc3NhZ2UgPSBudWxsO1xuXG4gICAgdGhpcy51cGRhdGVUaWNrZXQgPSB0aGlzLnVwZGF0ZVRpY2tldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2hvd0Zvcm0gPSB0aGlzLnNob3dGb3JtLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jcmVhdGVUaWNrZXQgPSB0aGlzLmNyZWF0ZVRpY2tldC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB0aGlzLnJlbmRlckluaXRpYWxNYXJrdXAoKTtcbiAgICB0aGlzLmluaXRpYWxpemVET01FbGVtZW50cygpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZVRpY2tldFZpZXcoKTtcbiAgICB0aGlzLmluaXRpYWxpemVUaWNrZXRGb3JtKCk7XG4gICAgdGhpcy5ldmVudHMoKTtcbiAgICBhd2FpdCB0aGlzLnJlbG9hZERhdGEoKTtcbiAgfVxuXG4gIHJlbmRlckluaXRpYWxNYXJrdXAoKSB7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gSGVscERlc2subWFya3VwKCk7XG4gIH1cblxuICBpbml0aWFsaXplRE9NRWxlbWVudHMoKSB7XG4gICAgdGhpcy50YWJsZUJvZHkgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuICAgIHRoaXMuZGVsZXRlTWVzc2FnZSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5kZWxldGUtbWVzc2FnZScpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZVRpY2tldFZpZXcoKSB7XG4gICAgdGhpcy50aWNrZXRWaWV3ID0gbmV3IFRpY2tldFZpZXcodGhpcy50YWJsZUJvZHksIHRoaXMudXBkYXRlVGlja2V0LCB0aGlzLnNob3dGb3JtKTtcbiAgfVxuXG4gIGluaXRpYWxpemVUaWNrZXRGb3JtKCkge1xuICAgIHRoaXMuZm9ybSA9IG5ldyBUaWNrZXRGb3JtKHRoaXMuY29udGFpbmVyLCB0aGlzLnVwZGF0ZVRpY2tldCwgdGhpcy5jcmVhdGVUaWNrZXQpO1xuICB9XG5cbiAgZXZlbnRzKCkge1xuICAgIGNvbnN0IGFkZEVsID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtaWQ9XCJhZGRcIl0nKTtcbiAgICBjb25zdCBkZWxldGVUaWNrZXQgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS10b2dnbGU9XCJkZWxldGUtdGlja2V0XCJdJyk7XG4gICAgY29uc3QgY2xvc2VNZXNzYWdlID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtdG9nZ2xlPVwiY2xvc2UtbWVzc2FnZVwiXScpO1xuXG4gICAgYWRkRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNob3dGb3JtKCkpO1xuICAgIGRlbGV0ZVRpY2tldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuZGVsZXRlVGlja2V0KCkpO1xuICAgIGNsb3NlTWVzc2FnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2VNZXNzYWdlKCkpO1xuICB9XG5cbiAgYXN5bmMgcmVsb2FkRGF0YSgpIHtcbiAgICB3aGlsZSAodGhpcy50YWJsZUJvZHkuZmlyc3RDaGlsZCkge1xuICAgICAgdGhpcy50YWJsZUJvZHkucmVtb3ZlQ2hpbGQodGhpcy50YWJsZUJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UubGlzdCgpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLnRpY2tldFZpZXcuYmluZFRvRE9NKGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVRpY2tldCgpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UuZGVsZXRlKFxuICAgICAgdGhpcy5kZWxldGVNZXNzYWdlLmRhdGFzZXQuaWQsXG4gICAgKTtcbiAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICBhd2FpdCB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICAgIHRoaXMuY2xvc2VNZXNzYWdlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlVGlja2V0KGRhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UuY3JlYXRlKGRhdGEpO1xuICAgIGlmIChyZXN1bHQgIT09IG51bGwpIHtcbiAgICAgIGF3YWl0IHRoaXMucmVsb2FkRGF0YSgpO1xuICAgICAgdGhpcy5mb3JtLmhpZGUoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVUaWNrZXQoaWQsIG5ld0RhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnRpY2tldFNlcnZpY2UudXBkYXRlKGlkLCBuZXdEYXRhKTtcbiAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICBhd2FpdCB0aGlzLnJlbG9hZERhdGEoKTtcbiAgICAgIHRoaXMuZm9ybS5oaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0VGlja2V0KGlkKSB7XG4gICAgY29uc3QgdGlja2V0ID0gYXdhaXQgdGhpcy50aWNrZXRTZXJ2aWNlLmdldChpZCk7XG4gICAgcmV0dXJuIHRpY2tldDtcbiAgfVxuXG4gIGNsb3NlTWVzc2FnZSgpIHtcbiAgICB0aGlzLmRlbGV0ZU1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZGVsZXRlLW1lc3NhZ2VfdmlzaWJsZScpO1xuICB9XG5cbiAgYXN5bmMgc2hvd0Zvcm0oaWQpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0VGlja2V0KGlkKTtcbiAgICAgIHRoaXMuZm9ybS5zaG93KHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZm9ybS5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIG1hcmt1cCgpIHtcbiAgICByZXR1cm4gYFxuICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGVcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0ciBjbGFzcz1cInRpY2tldHNcIj5cbiAgICAgICAgICAgIDx0aCBjb2xzcGFuPVwiNlwiIHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiIGRhdGEtaWQ9XCJhZGRcIj48c3BhbiBjbGFzcz1cImFkZFwiPtCU0L7QsdCw0LLQuNGC0Ywg0YLQuNC60LXRgjwvc3Bhbj48L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keT48L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICAgIDxkaXYgY2xhc3M9XCJkZWxldGUtbWVzc2FnZVwiPlxuICAgICAgICA8aDI+0KPQtNCw0LvQuNGC0Ywg0YLQuNC60LXRgjwvaDI+XG4gICAgICAgIDxkaXY+0JLRiyDRg9Cy0LXRgNC10L3Riywg0YfRgtC+INGF0L7RgtC40YLQtSDRg9C00LDQu9C40YLRjCDRgtC40LrQtdGCPyDQrdGC0L4g0LTQtdC50YHRgtCy0LjQtSDQvdC10L7QsdGA0LDRgtC40LzQvjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGlja2V0LWJ0blwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1jbG9zZVwiIGRhdGEtdG9nZ2xlPVwiY2xvc2UtbWVzc2FnZVwiIHRpdGxlPVwiQ2xvc2UgZGVsZXRlIG1lc3NhZ2VcIj7QntGC0LzQtdC90LA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tYWRkXCIgZGF0YS10b2dnbGU9XCJkZWxldGUtdGlja2V0XCIgdGl0bGU9XCJCdXR0b24gZm9yIGRlbGV0ZSB0aWNrZXRcIj5PazwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cbn1cbiIsImltcG9ydCBIZWxwRGVzayBmcm9tICcuL0hlbHBEZXNrJztcblxuY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XG5jb25zdCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwLyc7XG5cbmNvbnN0IGFwcCA9IG5ldyBIZWxwRGVzayhyb290LCB1cmwpO1xuXG5hcHAuaW5pdCgpO1xuIl0sIm5hbWVzIjpbIlRpY2tldEZvcm0iLCJjb25zdHJ1Y3RvciIsImNvbnRhaW5lciIsInVwZGF0ZUNhbGxiYWNrIiwiY3JlYXRlQ2FsbGJhY2siLCJ0aGlzIiwiZm9ybUNvbnRhaW5lciIsImVycm9yRWxlbWVudCIsImZvcm0iLCJiaW5kVG9ET00iLCJjcmVhdGVGb3JtQ29udGFpbmVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZXZlbnRzIiwiZm9ybURhdGEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJtYXJrdXAiLCJhcHBlbmQiLCJjbG9zZUJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJpbnB1dEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoaWRlIiwiZSIsIm9uU3VibWl0IiwiZm9yRWFjaCIsImlucHV0IiwicmVtb3ZlRXJyb3JDbGFzcyIsImFzeW5jIiwiZGF0YSIsInRpY2tldElkIiwiaWQiLCJyZW1vdmUiLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwiZWxlbWVudHNBcnJheSIsIkFycmF5IiwiZnJvbSIsImVsZW1lbnRzIiwiaW52YWxpZEVsZW1lbnQiLCJnZXROb3RWYWxpZEVsIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJGb3JtRGF0YSIsInRhcmdldCIsInN0YXRpYyIsInZhbHVlIiwidHJpbSIsImFycmF5IiwiZmluZCIsImVsIiwidHlwZSIsInVybCIsIm1ldGhvZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImhlYWRlcnMiLCJyZXNwb25zZSIsImlzR2V0TWV0aG9kIiwic3RhcnRzV2l0aCIsImZldGNoIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwiZXJyb3IiLCJxdWVyeVN0cmluZyIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwib2siLCJqc29uIiwic3RhdHVzVGV4dCIsIlRpY2tldFNlcnZpY2UiLCJsaXN0IiwiY3JlYXRlUmVxdWVzdCIsImdldCIsImNyZWF0ZSIsInVwZGF0ZSIsImRlbGV0ZSIsIlRpY2tldCIsIl9yZWYiLCJzaG93Rm9ybUNhbGxiYWNrIiwic3RhdHVzIiwiY3JlYXRlZCIsImJpbmQiLCJ1cGRhdGVCdG4iLCJkZWxldGVCdG4iLCJpc0RvbmVFbCIsInRpY2tldEJvZHkiLCJzaG93RGVzY3JpcHRpb24iLCJkb25lIiwiZGVsZXRlTWVzc2FnZSIsInNldEF0dHJpYnV0ZSIsInRvZ2dsZSIsImZvcm1hdHRlZERhdGUiLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJUaWNrZXRWaWV3IiwidGlja2V0cyIsIml0ZW0iLCJ0YWJsZVJvdyIsInRpY2tldCIsInB1c2giLCJIZWxwRGVzayIsIkhUTUxFbGVtZW50IiwiRXJyb3IiLCJ0aWNrZXRTZXJ2aWNlIiwidGlja2V0VmlldyIsInRhYmxlQm9keSIsInVwZGF0ZVRpY2tldCIsInNob3dGb3JtIiwiY3JlYXRlVGlja2V0IiwicmVuZGVySW5pdGlhbE1hcmt1cCIsImluaXRpYWxpemVET01FbGVtZW50cyIsImluaXRpYWxpemVUaWNrZXRWaWV3IiwiaW5pdGlhbGl6ZVRpY2tldEZvcm0iLCJyZWxvYWREYXRhIiwiYWRkRWwiLCJkZWxldGVUaWNrZXQiLCJjbG9zZU1lc3NhZ2UiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJkYXRhc2V0IiwibmV3RGF0YSIsInJlc3VsdCIsImdldFRpY2tldCIsInNob3ciLCJyb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbml0Il0sInNvdXJjZVJvb3QiOiIifQ==